<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Hi3798 on 点滴随记</title>
        <link>https://jimway71.github.io/tags/hi3798/</link>
        <description>Recent content in Hi3798 on 点滴随记</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Sat, 06 Mar 2021 16:14:16 +0800</lastBuildDate><atom:link href="https://jimway71.github.io/tags/hi3798/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>再刷移动魔百和CM201-2电视盒子</title>
        <link>https://jimway71.github.io/p/%E5%86%8D%E5%88%B7%E7%A7%BB%E5%8A%A8%E9%AD%94%E7%99%BE%E5%92%8Ccm201-2%E7%94%B5%E8%A7%86%E7%9B%92%E5%AD%90/</link>
        <pubDate>Sat, 06 Mar 2021 16:14:16 +0800</pubDate>
        
        <guid>https://jimway71.github.io/p/%E5%86%8D%E5%88%B7%E7%A7%BB%E5%8A%A8%E9%AD%94%E7%99%BE%E5%92%8Ccm201-2%E7%94%B5%E8%A7%86%E7%9B%92%E5%AD%90/</guid>
        <description>&lt;img src="https://jimway71.github.io/wallpaper/wallpaper-25.jpg" alt="Featured image of post 再刷移动魔百和CM201-2电视盒子" /&gt;&lt;h2 id=&#34;参考&#34;&gt;参考:&lt;/h2&gt;
&lt;h3 id=&#34;u盘刷机&#34;&gt;U盘刷机&lt;/h3&gt;
&lt;p&gt;使用U盘刷机&lt;br&gt;
参考: &lt;a class=&#34;link&#34; href=&#34;https://www.znds.com/tv-1152186-1-1.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;【潜龙定制】CM201-2(mv300H,310,300-emmc,nand)语音强刷固件201910&lt;/a&gt;&lt;br&gt;
● 难度: 极低&lt;br&gt;
● 所需工具及软件: U盘+刷机文件(一共4个文件)&lt;br&gt;
● 是否需要拆机:  不需要 _ 如果知道盒子准确类型的话。&lt;br&gt;
● 结果: 完全重刷盒子固件。&lt;br&gt;
● 注意点: 需要区分盒子闪存是EMMC还是NAND。 4文件中个有3个文件不一样, 对应不同的闪存。&lt;br&gt;
● 操作: 把4个文件拷到U盘根目录, U盘插到cm201-2盒子:&lt;br&gt;
如果是开机状态, 电视上会显示找到新的系统需要升级; 如果是关机状态, 开机即自动刷机。&lt;/p&gt;
&lt;h3 id=&#34;ttl连接刷机&#34;&gt;TTL连接刷机&lt;/h3&gt;
&lt;p&gt;使用TTL连上盒子, 进入内部系统(linux), 把需要的apk应用装进系统。&lt;br&gt;
参考: &lt;a class=&#34;link&#34; href=&#34;https://www.znds.com/tv-1033164-1-1.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;江苏移动魔百和cm201-2拆机ttl安装软件教程&lt;/a&gt;&lt;br&gt;
● 难度: 略高&lt;br&gt;
● 所需要工具及软件:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;U盘&lt;/li&gt;
&lt;li&gt;需要安装的apk&lt;/li&gt;
&lt;li&gt;排针、烙铁、焊锡等&lt;/li&gt;
&lt;li&gt;万用表&lt;/li&gt;
&lt;li&gt;USB转TTL模块，连接线&lt;/li&gt;
&lt;li&gt;拆机工具&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;● 是否需要拆机:  需要&lt;br&gt;
● 结果:  未对盒子底层系统做修改, 仅安装了几个apk。&lt;br&gt;
选用的是TTL连接盒子的方式。&lt;/p&gt;
&lt;h2 id=&#34;破解方法&#34;&gt;破解方法&lt;/h2&gt;
&lt;p&gt;破解方法很多:&lt;br&gt;
● 不拆机破解&lt;br&gt;
这是利用系统漏洞破解, 通过漏洞是装上可以装App的市场或其他工具。&lt;br&gt;
● 更新固件刷机&lt;br&gt;
刷入自制的系统, 除了硬件没变, 原系统的固件都没有了。&lt;br&gt;
因为移动魔百和CM201的型号极其杂乱, 各地移动公司都有出, 不同厂家代工, 另外不同年份出的盒子硬件都有不同, 同款盒子还有闪存不同, 所以这种方式需要区分型号后, 再找相应的刷机固件。&lt;br&gt;
&lt;img src=&#34;https://jimway71.github.io/img/25-cm201-2-01.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;同款板子使用不同类型闪存&#34;
	
	
&gt;&lt;br&gt;
↑ 同款板子使用不同类型闪存&lt;br&gt;
● TTL连接进入底层系统刷机&lt;br&gt;
板子上有TTL接口, 手上又有相应的工具材料的话, 这倒是最简单的一种破解方法, 因为通过TTL连进系统后, 就有了全部权限(root用户)。&lt;/p&gt;
&lt;h1 id=&#34;关于移动魔百和cm201&#34;&gt;关于移动魔百和CM201&lt;/h1&gt;
&lt;p&gt;移动魔百和CM201从型号上分大概有cm201s、cm201-1、 cm201-2等等, 代工方有朝歌、长虹、易视腾等等, 外观倒差不多, 都是一个小黑盒子。&lt;br&gt;
&lt;img src=&#34;https://jimway71.github.io/img/25-cm201-2-02.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;外壳&#34;
	
	
&gt;&lt;br&gt;
&lt;img src=&#34;https://jimway71.github.io/img/25-cm201-2-03.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;外壳&#34;
	
	
&gt;&lt;br&gt;
&lt;img src=&#34;https://jimway71.github.io/img/25-cm201-2-04.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;TTL接口&#34;
	
	
&gt;&lt;br&gt;
↑ 这块板子上有TTL接口，但没有插针, 也没有标注针脚定义&lt;/p&gt;
&lt;h2 id=&#34;刷机过程&#34;&gt;刷机过程&lt;/h2&gt;
&lt;h3 id=&#34;硬件准备&#34;&gt;硬件准备&lt;/h3&gt;
&lt;p&gt;● 给板子的TTL接口焊上排针&lt;br&gt;
● 用排线连接板子上TTL针脚和USB转TTL模块，连接如下:&lt;br&gt;
(收发对倒连接)  &lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;板上脚标 - 模块脚标&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GND - GND&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RX    -  TX&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TX    -  RX&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;● TTL模块插入电脑USB口&lt;br&gt;
在电脑&amp;quot;设备管理器&amp;quot;-&amp;ldquo;端口&amp;quot;里找到com端口(comx) —— 这个端口号在后面设置电脑上putty连接盒子时要用到， &amp;ldquo;属性&amp;rdquo;-&amp;ldquo;端口设置&amp;rdquo;-&amp;ldquo;位/秒(B)&amp;quot;(波特率), 改为115200。&lt;br&gt;
抄个图过来↓&lt;br&gt;
&lt;img src=&#34;https://jimway71.github.io/img/25-cm201-2-05.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;抄图&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;软件准备&#34;&gt;软件准备&lt;/h3&gt;
&lt;p&gt;● 准备要安装的应用&lt;br&gt;
一定要有一个桌面应用, 比如当贝桌面;&lt;br&gt;
一定要有一个可以做安装的app, 比如市场应用(比如蚂蚁市场), 或者是一个文件管理器, 比如File Manager, 文件管理器也可以安装apk应用。&lt;br&gt;
把想要安装的apk包拷到一个U盘的根目录里, 插到盒子的USB口上&lt;br&gt;
● 设置电脑和盒子的连接。&lt;br&gt;
设置使用putty连接。&lt;br&gt;
putty官网下载地址在&lt;a class=&#34;link&#34; href=&#34;https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;这&lt;/a&gt;。&lt;br&gt;
可以用来做串口连接的软件很多, 比如securecrt等等, 不过putty是免费软件, 也不需要注册什么的, 安装使用上比较方便。&lt;br&gt;
打开putty, 按图中的提示设置。下面这个图也是抄的&amp;hellip;&amp;hellip;  ↓&lt;br&gt;
&lt;img src=&#34;https://jimway71.github.io/img/25-cm201-2-06.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;抄图&#34;
	
	
&gt;&lt;br&gt;
先选择连接方式(Connection type)为串口连接(Serial), 再选择串口号(Serial line), 串口号是前面的&amp;quot;设备管理器&amp;quot;里找到的com端口，波特率(Speed)填115200(和前面的Com口波特率一致)。&lt;br&gt;
接着点击Open开始连接，然后给盒子开机，连接正确的话, 盒子开机后, putty上会显示盒子的输出信息, 是个linux的终端界面(Console界面)。&lt;br&gt;
&lt;img src=&#34;https://jimway71.github.io/img/25-cm201-2-07.jpg&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;COM5-PuTTY&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;安装apk应用-修改界面&#34;&gt;安装apk应用, 修改界面&lt;/h3&gt;
&lt;p&gt;在putty的连接界面上，输入命令执行操作。&lt;br&gt;
首先要确认下U盘的目录名, 了解linux的应该知道, 外挂的盘一般会加载到/mnt目录下, 一般而言, U盘会加载到&amp;rdquo;/mnt/sda/sda1&amp;quot;目录下, 用ls命令可以确认是否正确&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;# ls /mnt/sda/sda1/ -la&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果正确, 则进入U盘根目录&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;# cd /mnt/sda/sda1/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;把apk包拷贝到&amp;rdquo;/usr/app/&amp;ldquo;目录下, 即完成apk包的安装&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;# cp *.apk /usr/app/&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;启动当贝桌面&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;# am start com.dangbei.tvlauncher&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装完成。&lt;/p&gt;
&lt;p&gt;&lt;del&gt;## 实际和现实总有差距!&lt;/del&gt;&lt;br&gt;
&lt;del&gt;因为把U盘刷机的4个文件也拷到了U盘根目录下, 盒子开机后提示有更新, 因为连着网络, 还以为是在线更新, 没理。&lt;/del&gt;&lt;br&gt;
&lt;del&gt;后来重启盒子后, 盒子就直接开始更新, 这时也不敢停, 怕刷一半给刷成砖了。&lt;/del&gt;&lt;br&gt;
&lt;del&gt;等刷完了, 也退不回去了, 没有官方固件。&lt;/del&gt;&lt;br&gt;
&lt;del&gt;更新完成后重启, 看到的已经是另一幅模样了, 不过通过TTL拷进去的几个应用都在, 两种方法齐上, 搞成了混合刷机。&lt;/del&gt;&lt;br&gt;
从系统管理菜单里恢复出厂后(密码:10086), 又重做了一遍, 这回没出问题。&lt;/p&gt;
&lt;h2 id=&#34;测试&#34;&gt;测试&lt;/h2&gt;
&lt;p&gt;也没怎么测, 系统用着没问题, 遥控没问题, 操作反应够快, 应用运行也够快。&lt;br&gt;
用speedtest测了下网速, 使用wifi连接的情况下, 可以到80Mbps左右, 速度也还可以。&lt;/p&gt;
&lt;h2 id=&#34;迁移补记-于-2022823&#34;&gt;迁移补记 于 2022.8.23&lt;/h2&gt;
&lt;p&gt;● 最近一次查看这部CM201-2盒子时, 发现又回到了类似初始的状态, 已经不是能自定义的桌面, 应该是系统再次自动更新, 又&lt;strong&gt;回到未刷机的状态&lt;/strong&gt;。&lt;br&gt;
● 近期在论坛上看到有大神将Armbian移植到基于海思Hi3798芯片的多种电视盒子, 包括CM201-2盒子, 有时间可以try.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.znds.com/tv-1207323-1-1.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;打造最强华为海思hi3798mv100/200/300机顶盒NAS服务器系统&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://bbs.histb.com/d/233-rk322x-armbian-hi3798-mv100&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;rk322x armbian 移植hi3798 mv100&lt;/a&gt;, 其中:&lt;br&gt;
&lt;a class=&#34;link&#34; href=&#34;https://pan.baidu.com/s/1kGh4qKXxyn8IvGccODxLoQ&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;百度云共享&lt;/a&gt;, 提取码：slkc&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.right.com.cn/FORUM/thread-4084778-1-1.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;移动魔百和cm201-1-ys刷armbian&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;还有Armbian For S9xxx的Github链接:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/ophub/amlogic-s9xxx-armbian/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;amlogic-s9xxx-armbian&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hixxxx support for Linux Kernel 代码现在看着都有了:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/teasiu/HiSTBLinuxKernel&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;HiSTBLinuxKernel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/torvalds/linux/tree/master/arch/arm64/boot/dts/hisilicon&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;torvalds linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://bbs.histb.com/d/83-hi3798&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;hi3798可适配机型维护参考&lt;/a&gt;, From &lt;a class=&#34;link&#34; href=&#34;https://bbs.histb.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;海思机顶盒NAS社区&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
